<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Art</title>
    <link href="https://fonts.googleapis.com/css?family=Silkscreen" rel="stylesheet">
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <h1 id="head">Pixel Art</h1>
    <h6 id="head">By Shanntal Morel</h6>

    <div id="options">
        <div id="option">
            <button id="add-row">Add a row</button>
        </div>
        <div id="option">
            <select>
                <option value="white">white</option>
                <option value="black">black</option>
                <option value="chocolate">chocolate</option>
                <option value="red">red</option>
                <option value="pink">pink</option>
                <option value="yellow">yellow</option>
                <option value="orange">orange</option>
                <option value="blue">blue</option>
                <option value="green">green</option>
                <option value="purple">purple</option>
            </select>
        </div>
    </div>
    <div id="buttons">
        <button id="clearButton">Make A New Art Piece</button>
        <button id="deleteRowButton">Delete Row</button>
    </div>
    <!-- ------------------- -->

    <table>
        <tr>
            <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
            <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
        </tr>
    </table>

    <!-- ------------------- -->

    <div id="instructions">
        <h3>Instructions â–½</h3>
        <p id='hide' className='inst' style="font-family:sans-serif">
            Each row has 50 squares that you can color, to add an additional row you can press the 'Add a row' button.
            <br/>
            <br/>
            You can select which color you want to use by looking through the colors and pressing which one you want.
            <br/>
            <br/>
            To get a colored square back to the original background color you must click on that square with the color options set to the original color the square is colored.
            <br/>
            <br/>
            To delete a row you can press the 'Delete Row' button and the last row will be deleted along with any colors that were on that row. The only row that will not deleted is the first one.
            <br/>
            <br/>
            To make a new painting you can press the 'Make A New Art Piece' button and all the color will disappear from the squares but the number of rows will remain.
            <br/>
            <br/>
            <br/>
            When you're done don't forget to take a screenshot of your Art Piece! ðŸ“¸
        </p>
    </div>
</body>

<script>   
    const table = document.querySelector('table');
    const addButton = document.querySelector('#add-row');
    const selector = document.querySelector('select');
    const clearButton = document.querySelector('#clearButton');
    const deleteButton = document.querySelector('#deleteRowButton');
    const dropDown = document.querySelector('#hide');
    const h3 = document.querySelector('h3');

    function addRow() {
        const tr = document.createElement('tr');
        while (tr.children.length < 60) {
            tr.appendChild(document.createElement('td'));
        }
        table.appendChild(tr);
    }

    addButton.addEventListener('click', (ev) => {
        addRow();
    });

    table.addEventListener('click', (ev) => {
        let target = ev.target
        let currentColor = target.style.backgroundColor;

        if(target.tagName === 'TD') {
            if(currentColor === selector.value) {
            target.style.backgroundColor = '';
            }
            else {
                target.style.backgroundColor = selector.value;
            }
        }
    });

    clearButton.addEventListener('click', (ev) => {
        const allTds = document.querySelectorAll('td');
        allTds.forEach(td => td.style.backgroundColor = '');
    });

    deleteButton.addEventListener('click', (ev) => {
        const allTrsLength = [...document.querySelectorAll('tr')].length;
        if ([...document.querySelectorAll('tr')][1]) {
            const allTrs = table.deleteRow(allTrsLength - 1);
        }
    });

    h3.addEventListener('click', (ev) => {
        if(dropDown.id === 'hide') {
            dropDown.id = 'show';
            ev.target = 'Instructions -';
        }
        else {
            dropDown.id = 'hide';
            ev.target = 'Instructions +';
        }
    });
</script>

</html>